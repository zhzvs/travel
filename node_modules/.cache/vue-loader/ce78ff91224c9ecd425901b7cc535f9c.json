{"remainingRequest":"E:\\node\\vue\\travel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\node\\vue\\travel\\src\\pages\\detail\\components\\DetailHeader.vue?vue&type=style&index=0&id=304033fd&lang=stylus&scoped=true&","dependencies":[{"path":"E:\\node\\vue\\travel\\src\\pages\\detail\\components\\DetailHeader.vue","mtime":1533805063375},{"path":"E:\\node\\vue\\travel\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\node\\vue\\travel\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\node\\vue\\travel\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\node\\vue\\travel\\node_modules\\stylus-loader\\index.js","mtime":1519606876000},{"path":"E:\\node\\vue\\travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1532585615200},{"path":"E:\\node\\vue\\travel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n@import '~@/assets/styles/varibles.styl'\r\n.header\r\n    position:fixed\r\n    width: 100%\r\n    left:0\r\n    top:0\r\n    height:.8rem\r\n    line-height:.8rem\r\n    color:#fff\r\n    text-align:center\r\n    font-size:.32rem\r\n    background-color:$bgColor\r\n    z-index:77  \r\n    .left\r\n        position: absolute\r\n        left: 0.4rem\r\n        top:0\r\n        height:100%\r\n        width:.32rem\r\n        font-size:.36rem\r\n.back\r\n    position:fixed\r\n    width: 0.8rem\r\n    height 0.8rem\r\n    border-radius:.4rem\r\n    background-color: rgba(0,0,0,.8);\r\n    line-height:.8rem\r\n    text-align:center\r\n    left:0\r\n    top:0\r\n    color:#fff\r\n    font-size:.32rem\r\n",{"version":3,"sources":["DetailHeader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DetailHeader.vue","sourceRoot":"src\\pages\\detail\\components","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"header\" v-show=\"showHeader\" id=\"header\" :style=\"headerStyle\">\r\n            <router-link to=\"/\" tag=\"div\" class=\"iconfont left\">&#xe600;</router-link>\r\n            <div class=\"title\">旅游详情页</div>\r\n        </div>\r\n        <router-link tag=\"div\" to=\"/\" class=\"iconfont back\" v-show=\"showBack\">&#xe600;</router-link>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            showHeader: false,\r\n            headerStyle: {opacity:0},\r\n            scrollHeight:0,\r\n            scrollTop: 0\r\n        };\r\n    },\r\n    computed: {\r\n        showBack() {\r\n            return !this.showHeader;\r\n        }\r\n    },\r\n    mounted() {\r\n        this.scrollHeight = document.getElementById('header').offsetHeight;\r\n        // this.scrollTop = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset;\r\n        // console.log('mounted');\r\n        // window.addEventListener('scroll', this.scrollEvent);\r\n    },\r\n    methods:{\r\n        scrollEvent() {\r\n            var top = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset;\r\n            if (top > this.scrollHeight) {;\r\n                if(!this.showHeader) {\r\n                    this.showHeader = true;\r\n                }\r\n                var opacity = top / 140;\r\n                opacity = opacity > 1 ? 1 : opacity;\r\n                opacity = opacity.toFixed(1);\r\n                this.headerStyle = {opacity};\r\n            } else {\r\n                this.showHeader = false;\r\n                this.headerStyle = {opacity:0};\r\n            }\r\n        }\r\n    },\r\n    activated() {\r\n        window.addEventListener('scroll', this.scrollEvent);\r\n    },\r\n    deactivated() {\r\n        window.removeEventListener('scroll', this.scrollEvent);\r\n    }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n@import '~@/assets/styles/varibles.styl'\r\n.header\r\n    position:fixed\r\n    width: 100%\r\n    left:0\r\n    top:0\r\n    height:.8rem\r\n    line-height:.8rem\r\n    color:#fff\r\n    text-align:center\r\n    font-size:.32rem\r\n    background-color:$bgColor\r\n    z-index:77  \r\n    .left\r\n        position: absolute\r\n        left: 0.4rem\r\n        top:0\r\n        height:100%\r\n        width:.32rem\r\n        font-size:.36rem\r\n.back\r\n    position:fixed\r\n    width: 0.8rem\r\n    height 0.8rem\r\n    border-radius:.4rem\r\n    background-color: rgba(0,0,0,.8);\r\n    line-height:.8rem\r\n    text-align:center\r\n    left:0\r\n    top:0\r\n    color:#fff\r\n    font-size:.32rem\r\n</style>"]}]}