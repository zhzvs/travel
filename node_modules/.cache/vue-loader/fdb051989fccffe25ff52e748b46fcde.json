{"remainingRequest":"E:\\node\\vue\\travel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\node\\vue\\travel\\src\\pages\\city\\components\\CitySearch.vue?vue&type=style&index=0&id=5a6d778c&lang=stylus&scoped=true&","dependencies":[{"path":"E:\\node\\vue\\travel\\src\\pages\\city\\components\\CitySearch.vue","mtime":1533797721893},{"path":"E:\\node\\vue\\travel\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\node\\vue\\travel\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\node\\vue\\travel\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\node\\vue\\travel\\node_modules\\stylus-loader\\index.js","mtime":1519606876000},{"path":"E:\\node\\vue\\travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1532585615200},{"path":"E:\\node\\vue\\travel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n@import '~@/assets/styles/varibles.styl'\r\n.city-search\r\n    height :.62rem\r\n    background-color :$bgColor\r\n    overflow: hidden\r\n    padding:0 .2rem\r\n    .search-input\r\n        height:.50rem\r\n        overflow: hidden    \r\n        line-height 0.50rem\r\n        padding:0 .2rem\r\n        box-sizing:border-box\r\n        width:100%\r\n        margin:.03rem auto 0 auto\r\n        color:#777\r\n        border-radius:.06rem\r\n        text-align:center\r\n        font-size:.28rem\r\n.search-content\r\n    position: absolute\r\n    left:0\r\n    top: 1.46rem\r\n    right:0\r\n    bottom:0\r\n    z-index:10\r\n    overflow: hidden\r\n    background-color:#eee;\r\n    ul li\r\n        line-height: 0.48rem\r\n        padding:0 .24rem\r\n        color:#666\r\n        background-color:white\r\n\r\n",{"version":3,"sources":["CitySearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CitySearch.vue","sourceRoot":"src\\pages\\city\\components","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"city-search\">\r\n            <input type=\"text\" v-model=\"keyworlds\" class=\"search-input\" placeholder=\"请输入城市名称或者拼音\" />\r\n        </div>\r\n        <div class=\"search-content\" ref=\"searchContent\" v-show=\"this.keyworlds\">\r\n            <ul>\r\n                <li class=\"border-bottom\" v-for=\"item in matchList\" :key=\"item.id\" @click=\"handleClickCity(item.name)\">{{item.name}}</li>\r\n                <li class=\"border-bottom\" v-show=\"showNotFound\">未匹配到任何内容！</li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Bscroll from 'better-scroll'\r\nimport {mapMutations} from 'vuex'\r\nexport default {\r\n    props: {cities:Object},\r\n    data() {\r\n        return {\r\n            keyworlds: '',\r\n            matchList: [],\r\n            timer: null\r\n        }\r\n    },\r\n    mounted: function() {\r\n        this.scroll = new Bscroll(this.$refs.searchContent, {click: true});\r\n    },\r\n    watch: {\r\n        keyworlds (value) {\r\n            if (this.timer) {\r\n                clearTimeout(this.timer);\r\n            }\r\n            this.timer = setTimeout(() => {\r\n                var searchList = [];\r\n                for(var i in this.cities) {\r\n                    this.cities[i].forEach(function(item){\r\n                        if (item.spell.indexOf(value) > -1 || item.name.indexOf(value) > -1) {\r\n                            searchList.push(item);\r\n                        }\r\n                    });\r\n                }\r\n                this.matchList = searchList;\r\n            }, 16);\r\n        }\r\n    },\r\n    computed: {\r\n        showNotFound() {\r\n            return !this.matchList.length;\r\n        }\r\n    },\r\n    methods: {\r\n        handleClickCity(city) {\r\n            // this.$store.commit('changeCity', city);\r\n            this.changeCity(city);\r\n            this.keyworlds = '';\r\n            this.$router.push('/');\r\n        },\r\n        ...mapMutations(['changeCity'])\r\n    }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n@import '~@/assets/styles/varibles.styl'\r\n.city-search\r\n    height :.62rem\r\n    background-color :$bgColor\r\n    overflow: hidden\r\n    padding:0 .2rem\r\n    .search-input\r\n        height:.50rem\r\n        overflow: hidden    \r\n        line-height 0.50rem\r\n        padding:0 .2rem\r\n        box-sizing:border-box\r\n        width:100%\r\n        margin:.03rem auto 0 auto\r\n        color:#777\r\n        border-radius:.06rem\r\n        text-align:center\r\n        font-size:.28rem\r\n.search-content\r\n    position: absolute\r\n    left:0\r\n    top: 1.46rem\r\n    right:0\r\n    bottom:0\r\n    z-index:10\r\n    overflow: hidden\r\n    background-color:#eee;\r\n    ul li\r\n        line-height: 0.48rem\r\n        padding:0 .24rem\r\n        color:#666\r\n        background-color:white\r\n\r\n</style>\r\n"]}]}