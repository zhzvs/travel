{"remainingRequest":"E:\\node\\vue\\travel\\node_modules\\thread-loader\\dist\\cjs.js!E:\\node\\vue\\travel\\node_modules\\babel-loader\\lib\\index.js!E:\\node\\vue\\travel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\node\\vue\\travel\\src\\pages\\city\\components\\Letter.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\node\\vue\\travel\\src\\pages\\city\\components\\Letter.vue","mtime":1533787122294},{"path":"E:\\node\\vue\\travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1532585615200},{"path":"E:\\node\\vue\\travel\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1532585621048},{"path":"E:\\node\\vue\\travel\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"E:\\node\\vue\\travel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    list: Object\n  },\n  data: function data() {\n    return {\n      moveStatus: false,\n      startPos: 0,\n      height: 0,\n      timer: null\n    };\n  },\n  updated: function updated() {\n    var startElement = this.$refs['A'][0];\n    this.startPos = startElement.getBoundingClientRect().top;\n    this.height = startElement.offsetHeight;\n  },\n  methods: {\n    handleClick: function handleClick(e) {\n      var letter = e.target.innerText;\n      this.$emit('clickEvent', letter);\n    },\n    handleTouchStart: function handleTouchStart() {\n      this.moveStatus = true;\n    },\n    handleTouchMove: function handleTouchMove(event) {\n      var _this = this;\n\n      if (this.timer) {\n        clearTimeout(this.timer);\n      }\n\n      this.timer = setTimeout(function () {\n        if (_this.moveStatus) {\n          var endPos = event.touches[0].clientY;\n          var index = Math.floor((endPos - _this.startPos) / _this.height);\n          var letterList = Object.keys(_this.list);\n\n          if (index >= 0 && index <= 21) {\n            _this.$emit('clickEvent', letterList[index]);\n          }\n        }\n      }, 16);\n    },\n    handleTouchEnd: function handleTouchEnd() {\n      this.moveStatus = false;\n    }\n  }\n};",{"version":3,"sources":["Letter.vue"],"names":[],"mappings":";;;;;;;AAMA,eAAA;AACA,SAAA;AACA,UAAA;AADA,GADA;AAIA,MAJA,kBAIA;AACA,WAAA;AACA,kBAAA,KADA;AAEA,gBAAA,CAFA;AAGA,cAAA,CAHA;AAIA,aAAA;AAJA,KAAA;AAMA,GAXA;AAYA,SAZA,qBAYA;AACA,QAAA,eAAA,KAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,SAAA,QAAA,GAAA,aAAA,qBAAA,GAAA,GAAA;AACA,SAAA,MAAA,GAAA,aAAA,YAAA;AACA,GAhBA;AAiBA,WAAA;AACA,eADA,uBACA,CADA,EACA;AACA,UAAA,SAAA,EAAA,MAAA,CAAA,SAAA;AACA,WAAA,KAAA,CAAA,YAAA,EAAA,MAAA;AACA,KAJA;AAKA,oBALA,8BAKA;AACA,WAAA,UAAA,GAAA,IAAA;AACA,KAPA;AAQA,mBARA,2BAQA,KARA,EAQA;AAAA;;AACA,UAAA,KAAA,KAAA,EAAA;AACA,qBAAA,KAAA,KAAA;AACA;;AACA,WAAA,KAAA,GAAA,WAAA,YAAA;AACA,YAAA,MAAA,UAAA,EAAA;AACA,cAAA,SAAA,MAAA,OAAA,CAAA,CAAA,EAAA,OAAA;AACA,cAAA,QAAA,KAAA,KAAA,CAAA,CAAA,SAAA,MAAA,QAAA,IAAA,MAAA,MAAA,CAAA;AACA,cAAA,aAAA,OAAA,IAAA,CAAA,MAAA,IAAA,CAAA;;AACA,cAAA,SAAA,CAAA,IAAA,SAAA,EAAA,EAAA;AACA,kBAAA,KAAA,CAAA,YAAA,EAAA,WAAA,KAAA,CAAA;AACA;AACA;AACA,OATA,EASA,EATA,CAAA;AAWA,KAvBA;AAwBA,kBAxBA,4BAwBA;AACA,WAAA,UAAA,GAAA,KAAA;AACA;AA1BA;AAjBA,CAAA","sourcesContent":["<template>\r\n    <ul class=\"letter\">\r\n        <li v-for=\"(item, key) in list\" :key=\"key\" :ref=\"key\" @click=\"handleClick\" @touchstart.prevent=\"handleTouchStart\" @touchmove=\"handleTouchMove\" @touchend=\"handleTouchEnd\">{{key}}</li>\r\n    </ul>    \r\n</template>\r\n<script>\r\nexport default {\r\n    props: {\r\n        list: Object\r\n    },\r\n    data(){\r\n        return {\r\n            moveStatus: false,\r\n            startPos: 0,\r\n            height:0,\r\n            timer: null\r\n        };\r\n    },\r\n    updated() {\r\n        var startElement = this.$refs['A'][0]; \r\n        this.startPos = startElement.getBoundingClientRect().top;\r\n        this.height = startElement.offsetHeight;\r\n    },\r\n    methods: {\r\n        handleClick(e) {\r\n            var letter = e.target.innerText;\r\n            this.$emit('clickEvent', letter);\r\n        },\r\n        handleTouchStart() {\r\n            this.moveStatus = true;\r\n        },\r\n        handleTouchMove(event) {\r\n            if (this.timer) {\r\n                clearTimeout(this.timer);\r\n            }\r\n            this.timer = setTimeout(() => {\r\n                if (this.moveStatus) {           \r\n                    var endPos = event.touches[0].clientY;\r\n                    var index = Math.floor((endPos - this.startPos)/this.height);\r\n                    var letterList = Object.keys(this.list);\r\n                    if (index >=0 && index <= 21) {\r\n                        this.$emit('clickEvent', letterList[index]);\r\n                    }\r\n                }\r\n            }, 16);\r\n            \r\n        },\r\n        handleTouchEnd() {\r\n            this.moveStatus = false;\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n@import '~@/assets/styles/varibles.styl'\r\n.letter\r\n    position:absolute\r\n    top:1.48rem\r\n    right:0\r\n    bottom:0\r\n    width:.5rem\r\n    display:flex;\r\n    flex-direction:column;\r\n    justify-content: center;\r\n    li\r\n        text-align:center;\r\n        line-height:.44rem\r\n        color:$bgColor\r\n</style>\r\n\r\n\r\n"],"sourceRoot":"src\\pages\\city\\components"}]}