{"remainingRequest":"E:\\node\\vue\\travel\\node_modules\\babel-loader\\lib\\index.js!E:\\node\\vue\\travel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\node\\vue\\travel\\src\\pages\\city\\components\\CitySearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\node\\vue\\travel\\src\\pages\\city\\components\\CitySearch.vue","mtime":1533797721893},{"path":"E:\\node\\vue\\travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1532585615200},{"path":"E:\\node\\vue\\travel\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"E:\\node\\vue\\travel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"E:\\\\node\\\\vue\\\\travel\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/objectSpread\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Bscroll from 'better-scroll';\nimport { mapMutations } from 'vuex';\nexport default {\n  props: {\n    cities: Object\n  },\n  data: function data() {\n    return {\n      keyworlds: '',\n      matchList: [],\n      timer: null\n    };\n  },\n  mounted: function mounted() {\n    this.scroll = new Bscroll(this.$refs.searchContent, {\n      click: true\n    });\n  },\n  watch: {\n    keyworlds: function keyworlds(value) {\n      var _this = this;\n\n      if (this.timer) {\n        clearTimeout(this.timer);\n      }\n\n      this.timer = setTimeout(function () {\n        var searchList = [];\n\n        for (var i in _this.cities) {\n          _this.cities[i].forEach(function (item) {\n            if (item.spell.indexOf(value) > -1 || item.name.indexOf(value) > -1) {\n              searchList.push(item);\n            }\n          });\n        }\n\n        _this.matchList = searchList;\n      }, 16);\n    }\n  },\n  computed: {\n    showNotFound: function showNotFound() {\n      return !this.matchList.length;\n    }\n  },\n  methods: _objectSpread({\n    handleClickCity: function handleClickCity(city) {\n      // this.$store.commit('changeCity', city);\n      this.changeCity(city);\n      this.keyworlds = '';\n      this.$router.push('/');\n    }\n  }, mapMutations(['changeCity']))\n};",{"version":3,"sources":["CitySearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAcA,OAAA,OAAA,MAAA,eAAA;AACA,SAAA,YAAA,QAAA,MAAA;AACA,eAAA;AACA,SAAA;AAAA,YAAA;AAAA,GADA;AAEA,MAFA,kBAEA;AACA,WAAA;AACA,iBAAA,EADA;AAEA,iBAAA,EAFA;AAGA,aAAA;AAHA,KAAA;AAKA,GARA;AASA,WAAA,mBAAA;AACA,SAAA,MAAA,GAAA,IAAA,OAAA,CAAA,KAAA,KAAA,CAAA,aAAA,EAAA;AAAA,aAAA;AAAA,KAAA,CAAA;AACA,GAXA;AAYA,SAAA;AACA,aADA,qBACA,KADA,EACA;AAAA;;AACA,UAAA,KAAA,KAAA,EAAA;AACA,qBAAA,KAAA,KAAA;AACA;;AACA,WAAA,KAAA,GAAA,WAAA,YAAA;AACA,YAAA,aAAA,EAAA;;AACA,aAAA,IAAA,CAAA,IAAA,MAAA,MAAA,EAAA;AACA,gBAAA,MAAA,CAAA,CAAA,EAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,gBAAA,KAAA,KAAA,CAAA,OAAA,CAAA,KAAA,IAAA,CAAA,CAAA,IAAA,KAAA,IAAA,CAAA,OAAA,CAAA,KAAA,IAAA,CAAA,CAAA,EAAA;AACA,yBAAA,IAAA,CAAA,IAAA;AACA;AACA,WAJA;AAKA;;AACA,cAAA,SAAA,GAAA,UAAA;AACA,OAVA,EAUA,EAVA,CAAA;AAWA;AAhBA,GAZA;AA8BA,YAAA;AACA,gBADA,0BACA;AACA,aAAA,CAAA,KAAA,SAAA,CAAA,MAAA;AACA;AAHA,GA9BA;AAmCA;AACA,mBADA,2BACA,IADA,EACA;AACA;AACA,WAAA,UAAA,CAAA,IAAA;AACA,WAAA,SAAA,GAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;AANA,KAOA,aAAA,CAAA,YAAA,CAAA,CAPA;AAnCA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"city-search\">\r\n            <input type=\"text\" v-model=\"keyworlds\" class=\"search-input\" placeholder=\"请输入城市名称或者拼音\" />\r\n        </div>\r\n        <div class=\"search-content\" ref=\"searchContent\" v-show=\"this.keyworlds\">\r\n            <ul>\r\n                <li class=\"border-bottom\" v-for=\"item in matchList\" :key=\"item.id\" @click=\"handleClickCity(item.name)\">{{item.name}}</li>\r\n                <li class=\"border-bottom\" v-show=\"showNotFound\">未匹配到任何内容！</li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Bscroll from 'better-scroll'\r\nimport {mapMutations} from 'vuex'\r\nexport default {\r\n    props: {cities:Object},\r\n    data() {\r\n        return {\r\n            keyworlds: '',\r\n            matchList: [],\r\n            timer: null\r\n        }\r\n    },\r\n    mounted: function() {\r\n        this.scroll = new Bscroll(this.$refs.searchContent, {click: true});\r\n    },\r\n    watch: {\r\n        keyworlds (value) {\r\n            if (this.timer) {\r\n                clearTimeout(this.timer);\r\n            }\r\n            this.timer = setTimeout(() => {\r\n                var searchList = [];\r\n                for(var i in this.cities) {\r\n                    this.cities[i].forEach(function(item){\r\n                        if (item.spell.indexOf(value) > -1 || item.name.indexOf(value) > -1) {\r\n                            searchList.push(item);\r\n                        }\r\n                    });\r\n                }\r\n                this.matchList = searchList;\r\n            }, 16);\r\n        }\r\n    },\r\n    computed: {\r\n        showNotFound() {\r\n            return !this.matchList.length;\r\n        }\r\n    },\r\n    methods: {\r\n        handleClickCity(city) {\r\n            // this.$store.commit('changeCity', city);\r\n            this.changeCity(city);\r\n            this.keyworlds = '';\r\n            this.$router.push('/');\r\n        },\r\n        ...mapMutations(['changeCity'])\r\n    }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n@import '~@/assets/styles/varibles.styl'\r\n.city-search\r\n    height :.62rem\r\n    background-color :$bgColor\r\n    overflow: hidden\r\n    padding:0 .2rem\r\n    .search-input\r\n        height:.50rem\r\n        overflow: hidden    \r\n        line-height 0.50rem\r\n        padding:0 .2rem\r\n        box-sizing:border-box\r\n        width:100%\r\n        margin:.03rem auto 0 auto\r\n        color:#777\r\n        border-radius:.06rem\r\n        text-align:center\r\n        font-size:.28rem\r\n.search-content\r\n    position: absolute\r\n    left:0\r\n    top: 1.46rem\r\n    right:0\r\n    bottom:0\r\n    z-index:10\r\n    overflow: hidden\r\n    background-color:#eee;\r\n    ul li\r\n        line-height: 0.48rem\r\n        padding:0 .24rem\r\n        color:#666\r\n        background-color:white\r\n\r\n</style>\r\n"],"sourceRoot":"src\\pages\\city\\components"}]}